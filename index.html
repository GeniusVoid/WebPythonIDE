<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, interactive-widget=resizes-content">
    <title>Master Python IDE</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/pyodide/v0.25.0/full/pyodide.js"></script>
</head>
<body>

    <div id="sidebar">
        <div class="sidebar-header">
            PROJECT FILES 
            <span onclick="app.toggleSidebar()" style="float:right; padding: 0 10px; font-size: 18px;">&times;</span>
        </div>
        
        <div id="file-list"></div>
        
        <div class="sidebar-controls">
            <button id="new-file-btn" onclick="app.createNewFile()">+ New Script</button>
            <div style="display:flex; gap:5px; margin-top:5px;">
                <input type="file" id="file-import" accept=".py,.txt,.json" style="display:none" onchange="app.importFile(this)">
                <button class="secondary-btn" onclick="document.getElementById('file-import').click()">Import File</button>
                <button class="secondary-btn" onclick="app.downloadProject()">Backup All</button>
            </div>
        </div>
    </div>

    <div id="main-layout">
        <div id="top-bar">
            <button id="menu-btn" onclick="app.toggleSidebar()">&#9776;</button>
            
            <div class="tab active" onclick="app.switchView('editor')" id="tab-editor">
                <svg class="icon-py" viewBox="0 0 24 24">
                   <path fill="#FFD43B" d="M14.25.18l.9.2.73.26.59.3.45.32.34.34.25.34.16.33.1.3.04.26.02.2-.01.13V8.5l-.05.63-.13.55-.21.46-.26.38-.3.31-.33.25-.35.19-.35.14-.33.1-.3.07-.26.04-.21.02H8.77V9.7l.09.16.12.18.15.16.18.13.2.1.22.08.23.05.25.02h5.8l.68.05.57.14.5.21.42.28.34.32.25.35.17.36.1.37.05.36.01.32-.02.28-.05.26-.09.23-.12.2-.15.17-.18.15-.2.12-.22.1-.23.07-.25.04H6.55l-.26-.05-.23-.07-.21-.1-.19-.12-.16-.15-.13-.17-.1-.2-.07-.23-.05-.26-.02-.29.01-.32.05-.36.1-.37.16-.36.25-.35.34-.32.42-.28.5-.21.57-.14.68-.05h3.04V9.8H6.9l-1.05-.06-1.04-.21-1-.44-.9-.65-.74-.95-.53-1.25-.26-1.61.06-1.69.46-1.6.93-1.4 1.39-1.04 1.77-.58 2.06-.1z"/>
                   <path fill="#306998" d="M9.8 13.98l.09.16.12.18.15.16.18.13.2.1.22.08.23.05.25.02h5.8l.68.05.57.14.5.21.42.28.34.32.25.35.17.36.1.37.05.36.01.32-.02.28-.05.26-.09.23-.12.2-.15.17-.18.15-.2.12-.22.1-.23.07-.25.04H6.55l-.26-.05-.23-.07-.21-.1-.19-.12-.16-.15-.13-.17-.1-.2-.07-.23-.05-.26-.02-.29.01-.32.05-.36.1-.37.16-.36.25-.35.34-.32.42-.28.5-.21.57-.14.68-.05h3.04V9.8H6.9l-1.05-.06-1.04-.21-1-.44-.9-.65-.74-.95-.53-1.25-.26-1.61.06-1.69.46-1.6.93-1.4 1.39-1.04 1.77-.58 2.06-.1z"/>
                </svg>
                <span id="current-file-name">main.py</span>
            </div>
            
            <div class="tab" onclick="app.switchView('terminal')" id="tab-terminal">
                <span class="icon-term">_</span> Terminal
            </div>

            <button id="download-btn" onclick="app.downloadCurrentFile()" title="Export .py">⬇</button>

            <button id="play-btn" onclick="app.runCode()">▶</button>
        </div>

        <div id="workspace">
            <div id="editor-view" class="view active">
                <div id="editor-container"></div>
            </div>
            <div id="console-view" class="view">
                <div class="system-msg">>> System Initialized.</div>
            </div>
        </div>

        <div id="accessory-bar">
            <button class="key-btn" onclick="app.insert('\t')">Tab</button>
            <button class="key-btn" onclick="app.insert('=')">=</button>
            <button class="key-btn" onclick="app.insert(':')">:</button>
            <button class="key-btn" onclick="app.insert('(')">(</button>
            <button class="key-btn" onclick="app.insert(')')">)</button>
            <button class="key-btn" onclick="app.insert('[')">[</button>
            <button class="key-btn" onclick="app.insert(']')">]</button>
            <button class="key-btn" onclick="app.insert('\"')">"</button>
            <button class="key-btn" onclick="app.insert('\'')">'</button>
            <button class="key-btn" onclick="app.insert('#')">#</button>
        </div>
    </div>

    <script type="module" src="app.js"></script>
</body>
</html>

